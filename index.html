<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Epiphany Cathedral Catholic School 8th Grade Class Trip Fundraiser - Class of 2026</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        .grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 3px; max-width: 90%; margin: 20px auto; }
        .square { width: 60px; height: 50px; border: 1px solid #000; display: flex; align-items: center; justify-content: center; font-size: 14px; cursor: pointer; }
        .blue { background: blue; color: white; }
        .yellow { background: yellow; color: black; }
        .reserved { background: green; color: white; cursor: pointer; }
        #total { font-size: 20px; margin: 20px; }
        button { padding: 8px; font-size: 16px; margin: 5px; }
        .payment-buttons { margin: 20px auto; }
    </style>
</head>
<body>
    <h1>Epiphany Cathedral Catholic School</h1>
    <h2>8th Grade Class Trip Fundraiser</h2>
    <h3>Class of 2026</h3>
    <div class="payment-buttons">
        <button onclick="window.open('https://venmo.com/?txn=pay&recipients=@rogerandcherienavarro&amount=' + calculateTotal() + '&note=EpiphanyFundraiser-Square' + getReservedSquares(), '_blank')">Pay with Venmo</button>
        <button onclick="window.open('https://www.paypal.com/paypalme/roybotic/' + calculateTotal() + '?locale.x=en_US', '_blank')">Pay with PayPal</button>
        <button onclick="alert('Please send Zelle payment to (206) 619-7741 for $' + calculateTotal() + '.\nNote: EpiphanyFundraiser-Square' + getReservedSquares())">Pay with Zelle</button>
    </div>
    <div id="total">Total Reserved: 0 squares ($0)</div>
    <button onclick="clearAll()">Clear All Selections (Start over)</button>
    <div class="grid" id="grid"></div>

    <script>
        const squares = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50];
        const colors = ['blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow'];
        let reservations = JSON.parse(localStorage.getItem('reservations')) || {};
        let currentName = localStorage.getItem('currentName') || null;

        function initGrid() {
            const grid = document.getElementById('grid');
            grid.innerHTML = '';
            squares.forEach((num, i) => {
                const sq = document.createElement('div');
                sq.className = `square ${colors[i]}`;
                sq.textContent = num;
                sq.onclick = () => toggleSquare(num, sq, i);
                if (reservations[num]) {
                    sq.classList.add('reserved');
                    sq.textContent = reservations[num];
                }
                grid.appendChild(sq);
            });
            updateTotal();
        }

        function toggleSquare(num, sq, index) {
            if (reservations[num]) {
                delete reservations[num];
                sq.classList.remove('reserved');
                sq.className = `square ${colors[index]}`;
                sq.textContent = num;
            } else {
                if (!currentName) {
                    currentName = prompt('Enter your name:');
                    if (!currentName) return;
                    localStorage.setItem('currentName', currentName);
                }
                reservations[num] = currentName;
                sq.classList.add('reserved');
                sq.textContent = currentName;
            }
            localStorage.setItem('reservations', JSON.stringify(reservations));
            updateTotal();
        }

        function calculateTotal() {
            const reserved = Object.keys(reservations).map(Number);
            return reserved.reduce((sum, num) => sum + num, 0) * 1;
        }

        function getReservedSquares() {
            return Object.keys(reservations).map(Number).join(',');
        }

        function updateTotal() {
            const reserved = Object.keys(reservations).map(Number);
            const total = reserved.reduce((sum, num) => sum + num, 0) * 1;
            document.getElementById('total').textContent = `Total Reserved: ${reserved.length} squares ($${total})`;
        }

        function clearAll() {
            if (confirm('Clear all reservations?')) {
                reservations = {};
                currentName = null;
                localStorage.removeItem('reservations');
                localStorage.removeItem('currentName');
                initGrid();
            }
        }

        initGrid();
    </script>
</body>
</html>