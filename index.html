<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Epiphany Cathedral Catholic School 8th Grade Class Trip Fundraiser - Class of 2026</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        .grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 5px; max-width: 600px; margin: 20px auto; }
        .square { width: 100px; height: 80px; border: 2px solid #000; display: flex; align-items: center; justify-content: center; font-size: 20px; cursor: pointer; }
        .blue { background: blue; color: white; }
        .yellow { background: yellow; color: black; }
        .reserved { background: green; color: white; cursor: default; }
        #total { font-size: 24px; margin: 20px; }
        button { padding: 10px; font-size: 18px; }
    </style>
</head>
<body>
    <h1>Epiphany Cathedral Catholic School</h1>
    <h2>8th Grade Class Trip Fundraiser</h2>
    <h3>Class of 2026</h3>
    <div id="total">Total Reserved: 0 squares ($0)</div>
    <div class="grid" id="grid"></div>
    <br>
    <button onclick="clearAll()">Clear All (Admin)</button>
    <br><br>
    <div id="venmo"></div>

    <script>
        const squares = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50];
        const colors = ['blue','yellow','blue','yellow','blue','yellow','blue','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue','yellow','blue'];
        let reservations = JSON.parse(localStorage.getItem('reservations')) || {};

        function initGrid() {
            const grid = document.getElementById('grid');
            grid.innerHTML = '';
            squares.forEach((num, i) => {
                const sq = document.createElement('div');
                sq.className = `square ${colors[i]}`;
                sq.textContent = num;
                sq.onclick = () => reserveSquare(num, sq);
                if (reservations[num]) {
                    sq.classList.add('reserved');
                    sq.textContent = reservations[num];
                    sq.onclick = null;
                }
                grid.appendChild(sq);
            });
            updateTotal();
        }

        function reserveSquare(num, sq) {
            const name = prompt('Enter your name:');
            if (name) {
                reservations[num] = name;
                localStorage.setItem('reservations', JSON.stringify(reservations));
                sq.classList.add('reserved');
                sq.textContent = name;
                sq.onclick = null;
                updateTotal();
            }
        }

        function updateTotal() {
            const reserved = Object.keys(reservations).map(Number);
            const total = reserved.reduce((sum, num) => sum + num, 0) * 1; // $1 * number
            document.getElementById('total').textContent = `Total Reserved: ${reserved.length} squares ($${total})`;
            const venmoLink = reserved.length > 0 ? `<a href="https://venmo.com/?txn=pay&recipients=@rogerandcherienavarro&amount=${total}&note=EpiphanyFundraiser-Square${reserved.join(',')}" target="_blank">Pay Now</a>` : '';
            document.getElementById('venmo').innerHTML = venmoLink;
        }

        function clearAll() {
            if (confirm('Clear all reservations?')) {
                reservations = {};
                localStorage.removeItem('reservations');
                initGrid();
            }
        }

        initGrid();
    </script>
</body>
</html>